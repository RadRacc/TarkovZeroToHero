/* Base Styling */
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #2c2f33;
    color: #ffffff;
    line-height: 1.6;
    margin: 0;
    padding: 20px;
}

.container {
    max-width: 900px;
    margin: 0 auto;
    background-color: #36393f;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
    padding: 20px;
}

h1 {
    color: #7289da;
    text-align: center;
    margin-bottom: 25px;
    border-bottom: 2px solid #4f545c;
    padding-bottom: 10px;
}

/* Trader Icon/Image Box - COLLAPSED VIEW STYLES (UPDATED) */
.trader-icon-small {
    /* VITAL UPDATE: Width and Height are 100px, Border Radius is 0% (Square) */
    width: 100px;
    height: 100px;
    border-radius: 0%; 
    background-color: #4f545c;
    background-size: cover;
    background-position: center;
    border: 2px solid #7289da;
    flex-shrink: 0;
    margin-right: 15px;
}

/* Trader Icon/Image Box - EXPANDED VIEW STYLES (Original) */
.trader-image-box {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    background-color: #4f545c;
    background-size: cover;
    background-position: center;
    border: 3px solid #7289da;
    flex-shrink: 0;
    margin-right: 20px;
}

/* Unique Trader Colors/Images (Use simple color to represent each trader) */
[data-trader-id="Prapor"] { background-color: #e74c3c; border-color: #c0392b; }
[data-trader-id="Skier"] { background-color: #f1c40f; border-color: #f39c12; }
[data-trader-id="Therapist"] { background-color: #2ecc71; border-color: #27ae60; }
[data-trader-id="Peacekeeper"] { background-color: #3498db; border-color: #2980b9; }
[data-trader-id="Mechanic"] { background-color: #95a5a6; border-color: #7f8c8d; }
[data-trader-id="Ragman"] { background-color: #9b59b6; border-color: #8e44ad; }
[data-trader-id="Jaeger"] { background-color: #1abc9c; border-color: #16a085; }


/* Task Card Styling */
.task-list {
    display: grid;
    gap: 15px;
}

.task-card {
    background-color: #40444b;
    border-radius: 6px;
    padding: 15px;
    transition: all 0.2s ease-in-out;
    cursor: pointer;
    border: 1px solid #4f545c;
    position: relative;
}

.task-card.complete {
    background-color: #4e5d94; /* Darker blue for completed */
    opacity: 0.7;
    border-left: 5px solid #2ecc71;
}

.collapsed-view {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.collapsed-view > div {
    /* VITAL UPDATE: Ensure the text container doesn't take up extra space */
    flex-grow: 0; 
}

.trader-name {
    font-size: 0.8em;
    color: #b9bbbe;
    display: block;
    margin-bottom: 3px;
}

.task-title {
    margin: 0;
    font-size: 1.1em;
}

.task-objective {
    margin: 3px 0 0;
    font-size: 0.9em;
    color: #b9bbbe;
}

/* Expanded View Styling */
.expanded-view {
    margin-top: 15px;
    padding-top: 15px;
    border-top: 1px dashed #4f545c;
    display: flex;
}

.expanded-view > div {
    flex-grow: 1;
}

.dialogue-box {
    background-color: #32353b;
    border-left: 3px solid #7289da;
    padding: 10px;
    margin-bottom: 15px;
    border-radius: 4px;
}

.dialogue-box h4 {
    color: #7289da;
    margin: 0 0 5px;
}

.dialogue-box p {
    font-style: italic;
    margin: 0;
    font-size: 0.9em;
}

h4.requirements-heading, h4.objectives-heading, h4.rewards-heading {
    color: #b9bbbe;
    margin: 15px 0 8px;
    font-size: 1em;
    text-transform: uppercase;
}

.task-requirements-list {
    padding: 0;
    margin: 0;
    font-size: 0.9em;
}

.objective-checklist {
    padding: 0;
    margin: 0;
}

.objective-checklist label {
    display: block;
    margin-bottom: 5px;
    cursor: pointer;
}

.objective-checklist input[type="checkbox"]:checked + span {
    text-decoration: line-through;
    color: #99aab5;
}

.rewards-list {
    list-style-type: none;
    padding: 0;
    margin: 0;
    font-size: 0.9em;
}

.rewards-list li {
    margin-bottom: 3px;
    color: #2ecc71;
}

.rewards-list li::before {
    content: 'âœ“';
    color: #7289da;
    font-weight: bold;
    display: inline-block;
    width: 1em;
    margin-left: -1em;
}

.complete-btn {
    background-color: #43b581;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    margin-top: 15px;
    width: 100%;
    transition: background-color 0.2s;
}

.complete-btn:hover {
    background-color: #309069;
}

.complete-btn.disabled {
    background-color: #4f545c;
    cursor: not-allowed;
}

/* Utility */
.hidden-detail {
    display: none;
}
.text-error {
    color: #f04747;
    font-weight: bold;
}
.text-warning {
    color: #faa61a;
}
.collapsed-requirements {
    font-size: 0.8em;
    color: #b9bbbe;
    margin: 0;
}
